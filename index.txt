2:I[4114,["938","static/chunks/938-ae5e365d5abc8381.js","931","static/chunks/app/page-ca17cb0d91a6746d.js"],"Navbar"]
3:I[4880,["938","static/chunks/938-ae5e365d5abc8381.js","931","static/chunks/app/page-ca17cb0d91a6746d.js"],"Hero"]
4:I[1293,["938","static/chunks/938-ae5e365d5abc8381.js","931","static/chunks/app/page-ca17cb0d91a6746d.js"],"Sidebar"]
5:I[8644,["938","static/chunks/938-ae5e365d5abc8381.js","931","static/chunks/app/page-ca17cb0d91a6746d.js"],"CodeBlock"]
7:I[9617,["938","static/chunks/938-ae5e365d5abc8381.js","931","static/chunks/app/page-ca17cb0d91a6746d.js"],"ScenarioTabs"]
8:I[4707,[],""]
9:I[6423,[],""]
6:T92e,role: "client"                    # "client" or "server"

log:
  level: "none"                   # none, debug, info, warn, error, fatal

network:
  interface: "eth0"               # Network interface name
  guid: ""                        # Windows NPF GUID (Windows only)
  ipv4:
    addr: "192.168.1.100:0"       # IP:Port (port 0 = random ephemeral)
    router_mac: "aa:bb:cc:dd:ee:ff"
  ipv6:
    addr: "[2001:db8::1]:0"
    router_mac: "aa:bb:cc:dd:ee:ff"
  pcap:
    sockbuf: 4194304              # Ring buffer size (bytes)
  tcp:
    local_flag: ["PA"]            # TCP flags for outgoing packets
    remote_flag: ["PA"]           # TCP flags for incoming packets

listen:                           # Server only
  addr: "0.0.0.0:9999"            # Listen address

server:                           # Client only
  addr: "10.0.0.1:9999"           # Server address

socks5:                           # Client only
  - listen: "127.0.0.1:1080"
    username: ""                  # Optional auth
    password: ""

forward:                          # Client only
  - listen: "127.0.0.1:8080"
    target: "192.168.2.1:80"
    protocol: "tcp"               # "tcp" or "udp"

transport:
  protocol: "kcp"
  conn: 1                         # Parallel KCP connections (1-256)
  tcpbuf: 8192                    # Application TCP buffer (bytes)
  udpbuf: 4096                    # Application UDP buffer (bytes)
  kcp:
    mode: "fast"                  # normal, fast, fast2, fast3, manual
    nodelay: 0                    # Manual mode only
    interval: 30                  # Manual mode only (ms)
    resend: 2                     # Manual mode only
    nocongestion: 1               # Manual mode only
    wdelay: true                  # Manual mode only
    acknodelay: false             # Manual mode only
    mtu: 1350                     # Max transmission unit (50-1500)
    rcvwnd: 512                   # Receive window (1-32768)
    sndwnd: 512                   # Send window (1-32768)
    dshard: 0                     # FEC data shards (0 = disabled)
    pshard: 0                     # FEC parity shards
    block: "aes"                  # Encryption algorithm
    key: "your-secret-key"        # Encryption key
    smuxbuf: 4194304              # SMUX receive buffer (bytes)
    streambuf: 2097152            # Per-stream buffer (bytes)0:["7jgiXFm4AM1Tkm_IvgT6v",[[["",{"children":["__PAGE__",{}]},"$undefined","$undefined",true],["",{"children":["__PAGE__",{},[["$L1",["$","main",null,{"className":"min-h-screen bg-background","children":[["$","$L2",null,{}],["$","$L3",null,{}],["$","div",null,{"className":"flex","children":[["$","$L4",null,{}],["$","div",null,{"className":"flex-1 lg:ml-64 px-4 lg:px-8 py-8 max-w-4xl","children":[["$","section",null,{"id":"architecture-overview","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Architecture Overview"}],[["$","p","0",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"paqet is a packet-level proxy that bypasses the OS TCP/IP stack using raw sockets and libpcap."}}],["$","div","1",{"className":"my-6 p-4 bg-surface rounded-lg border border-border overflow-x-auto","children":["$","pre",null,{"className":"text-sm font-mono text-primary whitespace-pre","children":"┌─────────────────────────────────────────────────────────────────┐\n│  CLIENT                              SERVER                      │\n│  ───────                              ───────                    │\n│                                                                   │\n│  Application ──► SOCKS5/Forward ──► SMUX ──► KCP ──► pcap      │\n│                                                                   │\n│                       Raw TCP Packets (crafted)                  │\n│                    ◄────────────────────────────────────────►   │\n│                                                                   │\n│  pcap ◄── KCP ◄── SMUX ◄── SOCKS5/Forward ◄── Application      │\n└─────────────────────────────────────────────────────────────────┘"}]}],["$","h3","2",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Key Components"}],["$","ul","3",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"pcap: Captures/injects raw Ethernet frames via libpcap"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"Packet Crafting: Builds TCP packets with forged headers"}}],["$","li","2",{"dangerouslySetInnerHTML":{"__html":"KCP: Reliable UDP protocol with ARQ and congestion control"}}],["$","li","3",{"dangerouslySetInnerHTML":{"__html":"SMUX: Multiplexes multiple streams over one KCP connection"}}],["$","li","4",{"dangerouslySetInnerHTML":{"__html":"SOCKS5/Forward: Application-layer proxy interfaces"}}]]}]]]}],["$","section",null,{"id":"configuration-reference","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Configuration Reference"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Complete Configuration Structure"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"$6","language":"yaml"}]}]]]}],["$","section",null,{"id":"network-layer","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Network Layer"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Interface Selection (network.interface)"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"network:\n  interface: \"eth0\"        # Linux\n  # interface: \"en0\"       # macOS\n  # interface: \"Ethernet\"  # Windows (name only, GUID required)\n  guid: \"\\\\Device\\\\NPF_{...}\" # Windows NPF GUID","language":"yaml"}]}],["$","h4","2",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Platform Notes"}],["$","ul","3",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"Linux: Use interface name (eth0, ens33, enp3s0)"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"macOS: Use interface name (en0, en1)"}}],["$","li","2",{"dangerouslySetInnerHTML":{"__html":"Windows: Must provide NPF GUID from paqet iface command"}}]]}],["$","h4","4",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Finding Interface"}],["$","div","5",{"className":"my-4","children":["$","$L5",null,{"code":"# Linux/macOS\nip link show                    # or: ifconfig\n\n# Windows\npaqet iface                     # Lists interfaces with GUIDs","language":"bash"}]}],["$","h3","6",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"IP Address Configuration"}],["$","div","7",{"className":"my-4","children":["$","$L5",null,{"code":"ipv4:\n  addr: \"192.168.1.100:0\"        # IP:Port\n  router_mac: \"aa:bb:cc:dd:ee:ff\" # Gateway MAC","language":"yaml"}]}],["$","h4","8",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Router MAC Address"}],["$","p","9",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Required for packet crafting. Packets are injected directly to the gateway."}}],["$","div","10",{"className":"my-4","children":["$","$L5",null,{"code":"# Linux\nip neigh show | grep $(ip route | grep default | awk '{print $3}')\n\n# macOS\narp -a $(netstat -rn | grep default | head -1 | awk '{print $2}')\n\n# Windows\narp -a <gateway_ip>","language":"bash"}]}],["$","h3","11",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"TCP Flags (network.tcp)"}],["$","div","12",{"className":"my-4","children":["$","$L5",null,{"code":"tcp:\n  local_flag: [\"PA\"]    # Flags for client→server packets\n  remote_flag: [\"PA\"]   # Flags for server→client packets","language":"yaml"}]}],["$","h4","13",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Available Flags"}],["$","div","14",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Flag"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Name"}],["$","th","2",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Description"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"S"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"SYN"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Connection setup"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"A"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"ACK"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Acknowledgment"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"P"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"PSH"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Push (deliver immediately)"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"F"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"FIN"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Connection finish"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"R"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"RST"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Connection reset"}]]}],["$","tr","5",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"U"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"URG"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Urgent data"}]]}],["$","tr","6",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"E"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"ECE"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"ECN echo"}]]}],["$","tr","7",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"C"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"CWR"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Congestion window reduced"}]]}],["$","tr","8",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"N"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"NS"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"ECN nonce"}]]}]]}]]}]}]}],["$","h4","15",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Common Combinations"}],["$","ul","16",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"[\"PA\"] - Push+Ack (standard data, default)"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"[\"A\"] - Ack only (lower overhead)"}}],["$","li","2",{"dangerouslySetInnerHTML":{"__html":"[\"SA\"] - SYN+Ack (mimic handshake response)"}}],["$","li","3",{"dangerouslySetInnerHTML":{"__html":"[\"PA\", \"A\", \"PA\"] - Cycle through patterns (evasion)"}}]]}],["$","h3","17",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"PCAP Buffer (network.pcap.sockbuf)"}],["$","div","18",{"className":"my-4","children":["$","$L5",null,{"code":"pcap:\n  sockbuf: 4194304    # 4MB (client default)\n  # sockbuf: 8388608  # 8MB (server default)","language":"yaml"}]}],["$","h4","19",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Sizing Guide"}],["$","div","20",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Throughput"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Recommended Size"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"<10 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"4 MB"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"10-50 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"8 MB"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"50-100 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16 MB"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"100+ Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"32-64 MB"}]]}]]}]]}]}]}]]]}],["$","section",null,{"id":"kcp-protocol","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"KCP Protocol"}],[["$","p","0",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"KCP is a fast and reliable ARQ protocol implemented over UDP."}}],["$","h3","1",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Mode Presets (transport.kcp.mode)"}],["$","div","2",{"className":"my-4","children":["$","$L5",null,{"code":"kcp:\n  mode: \"fast\"    # normal, fast, fast2, fast3, manual","language":"yaml"}]}],["$","h4","3",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Preset Values"}],["$","div","4",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Mode"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"nodelay"}],["$","th","2",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"interval"}],["$","th","3",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"resend"}],["$","th","4",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"nocongestion"}],["$","th","5",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"wdelay"}],["$","th","6",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"acknodelay"}],["$","th","7",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Use Case"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"normal"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"0"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"40ms"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"2"}],["$","td","4",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","5",{"className":"px-4 py-3 text-sm text-text","children":"true"}],["$","td","6",{"className":"px-4 py-3 text-sm text-text","children":"false"}],["$","td","7",{"className":"px-4 py-3 text-sm text-text","children":"TCP-like, conservative"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"fast"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"0"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"30ms"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"2"}],["$","td","4",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","5",{"className":"px-4 py-3 text-sm text-text","children":"true"}],["$","td","6",{"className":"px-4 py-3 text-sm text-text","children":"false"}],["$","td","7",{"className":"px-4 py-3 text-sm text-text","children":"Balanced (default)"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"fast2"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"20ms"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"2"}],["$","td","4",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","5",{"className":"px-4 py-3 text-sm text-text","children":"false"}],["$","td","6",{"className":"px-4 py-3 text-sm text-text","children":"true"}],["$","td","7",{"className":"px-4 py-3 text-sm text-text","children":"Low latency"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"fast3"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"10ms"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"2"}],["$","td","4",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","5",{"className":"px-4 py-3 text-sm text-text","children":"false"}],["$","td","6",{"className":"px-4 py-3 text-sm text-text","children":"true"}],["$","td","7",{"className":"px-4 py-3 text-sm text-text","children":"Minimal latency"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"manual"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"custom"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"custom"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"custom"}],["$","td","4",{"className":"px-4 py-3 text-sm text-text","children":"custom"}],["$","td","5",{"className":"px-4 py-3 text-sm text-text","children":"custom"}],["$","td","6",{"className":"px-4 py-3 text-sm text-text","children":"custom"}],["$","td","7",{"className":"px-4 py-3 text-sm text-text","children":"Full control"}]]}]]}]]}]}]}],["$","p","5",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Important: When using mode presets (normal, fast, fast2, fast3), all manual mode parameters are ignored. Only use mode: \"manual\" when you need custom values."}}],["$","h3","6",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Manual Mode Parameters"}],["$","h4","7",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"nodelay"}],["$","div","8",{"className":"my-4","children":["$","$L5",null,{"code":"nodelay: 1    # 0 or 1","language":"yaml"}]}],["$","ul","9",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"0: Conservative, TCP-like retransmission behavior"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"1: Aggressive, immediate retransmission on loss detection"}}]]}],["$","h4","10",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"interval"}],["$","div","11",{"className":"my-4","children":["$","$L5",null,{"code":"interval: 10    # 10-5000 milliseconds","language":"yaml"}]}],["$","p","12",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"KCP's internal update interval. Controls ACK generation and loss detection frequency. Rule of thumb: interval ≈ RTT / 2"}}],["$","h4","13",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"resend"}],["$","div","14",{"className":"my-4","children":["$","$L5",null,{"code":"resend: 2    # 0, 1, or 2","language":"yaml"}]}],["$","ul","15",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"0: Disable fast retransmit, wait for timeout"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"1: Retransmit after 1 duplicate ACK (very aggressive)"}}],["$","li","2",{"dangerouslySetInnerHTML":{"__html":"2: Retransmit after 2 duplicate ACKs (balanced)"}}]]}],["$","h4","16",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"nocongestion"}],["$","div","17",{"className":"my-4","children":["$","$L5",null,{"code":"nocongestion: 1    # 0 or 1","language":"yaml"}]}],["$","ul","18",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"0: Enable congestion control (fair sharing, slower ramp-up)"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"1: Disable congestion control (max throughput, may cause loss)"}}]]}],["$","h4","19",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"wdelay"}],["$","div","20",{"className":"my-4","children":["$","$L5",null,{"code":"wdelay: false    # true or false","language":"yaml"}]}],["$","ul","21",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"false: Flush immediately when data available (lower latency, more syscalls)"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"true: Batch writes until next interval tick (higher throughput, added latency)"}}]]}],["$","h4","22",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"acknodelay"}],["$","div","23",{"className":"my-4","children":["$","$L5",null,{"code":"acknodelay: true    # true or false","language":"yaml"}]}],["$","ul","24",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"true: Send ACK immediately on receive (faster loss detection)"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"false: Batch ACKs with data (bandwidth efficient)"}}]]}],["$","h3","25",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"MTU (transport.kcp.mtu)"}],["$","div","26",{"className":"my-4","children":["$","$L5",null,{"code":"mtu: 1350    # 50-1500 bytes","language":"yaml"}]}],["$","h4","27",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Common Values"}],["$","div","28",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Value"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Description"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"1472"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Maximum safe UDP over Ethernet (1500 - 20 IP - 8 UDP)"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"1400"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Safe for most internet paths"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"1350"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Default, accounts for encryption overhead"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"1250"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Conservative, works with VPN overhead"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"512"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Maximum compatibility, gaming"}]]}]]}]]}]}]}],["$","h3","29",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Window Sizes (rcvwnd, sndwnd)"}],["$","div","30",{"className":"my-4","children":["$","$L5",null,{"code":"rcvwnd: 512    # 1-32768\nsndwnd: 512    # 1-32768","language":"yaml"}]}],["$","h4","31",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Bandwidth-Delay Product"}],["$","div","32",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Bandwidth"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"RTT"}],["$","th","2",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Min Window"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"10 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"50ms"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"~47"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"100 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"50ms"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"~463"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"1 Gbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"10ms"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"~926"}]]}]]}]]}]}]}],["$","h3","33",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Forward Error Correction (dshard, pshard)"}],["$","div","34",{"className":"my-4","children":["$","$L5",null,{"code":"dshard: 0    # Data shards (0 = disabled, default)\npshard: 0    # Parity shards","language":"yaml"}]}],["$","p","35",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"When enabled, uses Reed-Solomon erasure coding. FEC is disabled by default."}}],["$","h4","36",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"When to use"}],["$","ul","37",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"Lossy networks (>5% packet loss)"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"High-latency links where retransmission is expensive"}}],["$","li","2",{"dangerouslySetInnerHTML":{"__html":"Real-time applications (gaming, VoIP)"}}]]}]]]}],["$","section",null,{"id":"buffers-memory","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Buffers & Memory"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Transport Buffers"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"transport:\n  tcpbuf: 8192    # Min: 4096 bytes\n  udpbuf: 4096    # Min: 2048 bytes","language":"yaml"}]}],["$","h3","2",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"SMUX Buffers"}],["$","div","3",{"className":"my-4","children":["$","$L5",null,{"code":"kcp:\n  smuxbuf: 4194304      # 4MB default\n  streambuf: 2097152    # 2MB default","language":"yaml"}]}],["$","p","4",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"smuxbuf: Total buffer for all streams in a session. Minimum: 1024 bytes. streambuf: Per-stream buffer. Minimum: 1024 bytes."}}],["$","h3","5",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Memory Calculation"}],["$","p","6",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Per connection (approximate): Total = pcap_sockbuf + smuxbuf + (streambuf × concurrent_streams)"}}],["$","div","7",{"className":"my-4","children":["$","$L5",null,{"code":"Example server (100 connections, 10 streams each):\nPCAP: 8MB\nSMUX: 4MB × 100 = 400MB\nStreams: 2MB × 10 × 100 = 2GB\nTotal: ~2.4GB","language":"text"}]}]]]}],["$","section",null,{"id":"encryption","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Encryption"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Algorithms (transport.kcp.block)"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"kcp:\n  block: \"aes\"        # Encryption algorithm\n  key: \"your-key\"     # Any length (derived via PBKDF2)","language":"yaml"}]}],["$","h4","2",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Available Algorithms"}],["$","div","3",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Algorithm"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Key Size"}],["$","th","2",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Speed"}],["$","th","3",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Notes"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"null"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"-"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fastest"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"No encryption, no authentication"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"none"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"-"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fastest"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"No encryption, has authentication"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"xor"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"32"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Very fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Weak, use only for testing"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"aes-128-gcm"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Recommended - AEAD"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"aes-128"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Hardware accelerated"}]]}],["$","tr","5",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"aes / aes-256"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"32"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Medium"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Full 256-bit key"}]]}],["$","tr","6",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"aes-192"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"24"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Medium"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"-"}]]}],["$","tr","7",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"salsa20"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"32"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Stream cipher"}]]}],["$","tr","8",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"sm4"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Chinese standard"}]]}],["$","tr","9",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"blowfish"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"32"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Medium"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Legacy"}]]}],["$","tr","10",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"twofish"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"32"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Medium"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"AES alternative"}]]}],["$","tr","11",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"cast5"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Medium"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Legacy"}]]}],["$","tr","12",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"3des"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"24"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Slow"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Avoid"}]]}],["$","tr","13",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"tea"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Weak"}]]}],["$","tr","14",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"xtea"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fast"}],["$","td","3",{"className":"px-4 py-3 text-sm text-text","children":"Improved TEA"}]]}]]}]]}]}]}],["$","h3","4",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Key Derivation"}],["$","p","5",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Keys are derived using PBKDF2 with salt \"paqet\" and 100,000 iterations. Recommendation: Use aes-128-gcm for best security/performance balance."}}],["$","h3","6",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Key Generation"}],["$","div","7",{"className":"my-4","children":["$","$L5",null,{"code":"./paqet secret","language":"bash"}]}]]]}],["$","section",null,{"id":"connection-multiplexing","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Connection Multiplexing"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Multiple Connections (transport.conn)"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"transport:\n  conn: 1    # 1-256 parallel KCP connections","language":"yaml"}]}],["$","h4","2",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Benefits"}],["$","ul","3",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"Better bandwidth utilization"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"Reduced head-of-line blocking"}}],["$","li","2",{"dangerouslySetInnerHTML":{"__html":"Load balancing across connections"}}]]}],["$","h4","4",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Guidelines"}],["$","div","5",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Bandwidth"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Recommended conn"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"<10 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"1"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"10-50 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"2-4"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"50-100 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"4-8"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"100-500 Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"8-16"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"500+ Mbps"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"16-32"}]]}]]}]]}]}]}]]]}],["$","section",null,{"id":"os-tuning","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"OS Tuning"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Linux Kernel Parameters"}],["$","p","1",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Critical: You must set both the default and max values. Applications use the default buffer size unless they explicitly request larger buffers."}}],["$","div","2",{"className":"my-4","children":["$","$L5",null,{"code":"# Socket buffer limits (max values)\nsysctl -w net.core.rmem_max=268435456\nsysctl -w net.core.wmem_max=268435456\n\n# Socket buffer defaults (IMPORTANT: applications use these!)\nsysctl -w net.core.rmem_default=16777216\nsysctl -w net.core.wmem_default=16777216\n\n# TCP buffer sizes: min default max\n# The middle value is the DEFAULT - must be large enough!\nsysctl -w net.ipv4.tcp_rmem=\"4096 8388608 268435456\"\nsysctl -w net.ipv4.tcp_wmem=\"4096 8388608 268435456\"\n\n# UDP buffers (critical for KCP)\nsysctl -w net.core.netdev_max_backlog=65536\n\n# Connection tracking (if using iptables)\nsysctl -w net.netfilter.nf_conntrack_max=1000000","language":"bash"}]}],["$","h4","3",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Make persistent across reboots"}],["$","div","4",{"className":"my-4","children":["$","$L5",null,{"code":"cat >> /etc/sysctl.conf << 'EOF'\nnet.core.rmem_max=268435456\nnet.core.wmem_max=268435456\nnet.core.rmem_default=16777216\nnet.core.wmem_default=16777216\nnet.ipv4.tcp_rmem=4096 8388608 268435456\nnet.ipv4.tcp_wmem=4096 8388608 268435456\nnet.core.netdev_max_backlog=65536\nEOF\n\nsysctl -p","language":"bash"}]}],["$","h3","5",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"NIC Optimization"}],["$","div","6",{"className":"my-4","children":["$","$L5",null,{"code":"# Enable offloading\nethtool -K eth0 tso on gso on gro on\n\n# Ring buffers\nethtool -G eth0 rx 4096 tx 4096","language":"bash"}]}],["$","h3","7",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"File Descriptors"}],["$","div","8",{"className":"my-4","children":["$","$L5",null,{"code":"ulimit -n 65535","language":"bash"}]}],["$","h3","9",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"CPU Affinity"}],["$","div","10",{"className":"my-4","children":["$","$L5",null,{"code":"# Pin to specific cores\nsudo taskset -c 0,1 ./paqet run -c config.yaml\n\n# NUMA binding\nsudo numactl --cpunodebind=0 --membind=0 ./paqet run -c config.yaml","language":"bash"}]}]]]}],["$","section",null,{"id":"firewall-setup","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Firewall Setup"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Required iptables Rules (Server)"}],["$","p","1",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Critical: These rules are mandatory for proper operation."}}],["$","div","2",{"className":"my-4","children":["$","$L5",null,{"code":"#!/bin/bash\nPORT=9999\n\n# Bypass connection tracking\niptables -t raw -A PREROUTING -p tcp --dport $PORT -j NOTRACK\niptables -t raw -A OUTPUT -p tcp --sport $PORT -j NOTRACK\n\n# Drop kernel RST packets (kernel sends RST for packets it doesn't recognize)\niptables -t mangle -A OUTPUT -p tcp --sport $PORT --tcp-flags RST RST -j DROP","language":"bash"}]}],["$","h4","3",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"Why needed"}],["$","ul","4",{"className":"list-disc list-inside space-y-2 mb-4 text-text-muted","children":[["$","li","0",{"dangerouslySetInnerHTML":{"__html":"NOTRACK: Prevents conntrack from interfering with raw packets"}}],["$","li","1",{"dangerouslySetInnerHTML":{"__html":"DROP RST: Kernel sends RST for TCP packets it didn't initiate; without this, connections die"}}]]}],["$","h3","5",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"nftables Alternative"}],["$","div","6",{"className":"my-4","children":["$","$L5",null,{"code":"#!/usr/sbin/nft -f\n\ntable inet paqet {\n    chain prerouting {\n        type filter hook prerouting priority raw; policy accept;\n        tcp dport 9999 notrack\n    }\n    chain output {\n        type filter hook output priority mangle; policy accept;\n        tcp sport 9999 tcp flags rst drop\n    }\n}","language":"bash"}]}]]]}],["$","section",null,{"id":"monitoring-debugging","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Monitoring & Debugging"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Log Levels (log.level)"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"log:\n  level: \"none\"    # none, debug, info, warn, error, fatal","language":"yaml"}]}],["$","div","2",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Level"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Value"}],["$","th","2",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Use Case"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"none"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"-1"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Production, best performance"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"debug"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"0"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Troubleshooting, verbose"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"info"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"1"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Normal operation"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"warn"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"2"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Warnings only"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"error"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"3"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Errors only"}]]}],["$","tr","5",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"fatal"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"4"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fatal errors only"}]]}]]}]]}]}]}],["$","p","3",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Performance Impact: Debug logging can reduce throughput 10-20%. Use none in production."}}],["$","h3","4",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Diagnostic Commands"}],["$","h4","5",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"ping - Test Connectivity"}],["$","div","6",{"className":"my-4","children":["$","$L5",null,{"code":"sudo ./paqet ping -c client.yaml","language":"bash"}]}],["$","p","7",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Tests: Network reachability, KCP handshake, encryption/decryption, round-trip time."}}],["$","h4","8",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"dump - Packet Capture"}],["$","div","9",{"className":"my-4","children":["$","$L5",null,{"code":"sudo ./paqet dump -p 9999           # Capture on port\nsudo ./paqet dump -i eth0 -p 9999   # Specific interface\nsudo ./paqet dump -p 9999 -v        # Verbose","language":"bash"}]}],["$","h4","10",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"iface - List Interfaces"}],["$","div","11",{"className":"my-4","children":["$","$L5",null,{"code":"./paqet iface    # Lists interfaces with GUIDs (Windows)","language":"bash"}]}],["$","h4","12",{"className":"text-lg font-medium text-text mt-6 mb-3","children":"secret - Generate Key"}],["$","div","13",{"className":"my-4","children":["$","$L5",null,{"code":"./paqet secret    # Generates secure random key","language":"bash"}]}]]]}],["$","section",null,{"id":"troubleshooting","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Troubleshooting"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"\"Message too long\" Error"}],["$","p","1",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Cause: KCP MTU exceeds the path MTU between client and server."}}],["$","div","2",{"className":"my-4","children":["$","$L5",null,{"code":"# Test different sizes until one works\nping -M do -s 1472 <server_ip>   # Test 1500 byte path\nping -M do -s 1372 <server_ip>   # Test 1400 byte path","language":"bash"}]}],["$","p","3",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Solution: Set KCP MTU to path_mtu - 100 (safe margin for encryption overhead). Both client and server must use the same MTU."}}],["$","h3","4",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Connection Timeout / Slow Ramp-up"}],["$","p","5",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Cause: nocongestion: 0 enables TCP-like congestion control, which can cause slow connection establishment on variable bandwidth links."}}],["$","p","6",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Solution: Use nocongestion: 1 (default) for variable bandwidth environments."}}],["$","h3","7",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Config Not Applying"}],["$","p","8",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Cause: Wrong YAML key names. Invalid keys are silently ignored."}}],["$","div","9",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Wrong Key"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Correct Key"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"snd_wnd"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"sndwnd"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"rcv_wnd"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"rcvwnd"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"nc"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"nocongestion"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"data_shard"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"dshard"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"parity_shard"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"pshard"}]]}]]}]]}]}]}],["$","h3","10",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"\"No buffer space available\" Error"}],["$","p","11",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Cause: OS socket buffer limits are too small, causing packet loss when paqet tries to write to local services."}}],["$","div","12",{"className":"my-4","children":["$","$L5",null,{"code":"# Check current socket buffer sizes\nss -tnm | grep -A2 \":443\" | head -10\n\n# Look for rbXXXXX (receive buffer) - if it's small (e.g., rb87380 = 87KB), that's the problem\n# Should be rb8388608 (8MB) or larger","language":"bash"}]}],["$","p","13",{"className":"text-text-muted leading-relaxed mb-4","dangerouslySetInnerHTML":{"__html":"Solution: Apply the OS tuning settings and restart paqet AND the local service to create new sockets with larger buffers."}}]]]}],["$","section",null,{"id":"scenario-configurations","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Scenario Configurations"}],["$","$L7",null,{}]]}],["$","section",null,{"id":"quick-diagnostic-checklist","className":"scroll-mt-20","children":[["$","h2",null,{"className":"text-2xl font-bold text-text mb-6 pb-2 border-b border-border","children":"Quick Diagnostic Checklist"}],[["$","h3","0",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"1. Check for Buffer Errors"}],["$","div","1",{"className":"my-4","children":["$","$L5",null,{"code":"journalctl -u paqet --since \"1 hour ago\" | grep -i \"buffer\"\n# If output shows \"No buffer space available\" → Apply OS tuning","language":"bash"}]}],["$","h3","2",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"2. Verify Socket Buffer Sizes"}],["$","div","3",{"className":"my-4","children":["$","$L5",null,{"code":"ss -tnm | grep -A2 \":443\"\n# Should show: rb8388608 or larger","language":"bash"}]}],["$","h3","4",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"3. Check Retransmissions"}],["$","div","5",{"className":"my-4","children":["$","$L5",null,{"code":"cat /proc/net/snmp | grep Tcp\n# RetransSegs should be much smaller than OutSegs","language":"bash"}]}],["$","h3","6",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"4. Verify Config Keys"}],["$","div","7",{"className":"my-4","children":["$","$L5",null,{"code":"grep -E \"snd_wnd|rcv_wnd|data_shard|parity_shard|^nc:\" /opt/paqet/config.yaml\n# If any match → fix the key names","language":"bash"}]}],["$","h3","8",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"5. Check MTU"}],["$","div","9",{"className":"my-4","children":["$","$L5",null,{"code":"# Find path MTU\nping -M do -s 1372 <server_ip>  # Test 1400 byte path\n\n# Verify both configs use same MTU\ngrep \"mtu:\" /opt/paqet/config.yaml","language":"bash"}]}],["$","h3","10",{"className":"text-xl font-semibold text-text mt-8 mb-4","children":"Common Issues Summary"}],["$","div","11",{"className":"my-4","children":["$","div",null,{"className":"overflow-x-auto rounded-lg border border-border","children":["$","table",null,{"className":"min-w-full","children":[["$","thead",null,{"children":["$","tr",null,{"className":"bg-surface border-b border-border","children":[["$","th","0",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Symptom"}],["$","th","1",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Likely Cause"}],["$","th","2",{"className":"px-4 py-3 text-left text-sm font-semibold text-text-muted","children":"Solution"}]]}]}],["$","tbody",null,{"children":[["$","tr","0",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"\"No buffer space available\" errors"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"OS socket buffers too small"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Apply OS tuning, restart services"}]]}],["$","tr","1",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"60%+ overhead"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Buffer overflow causing retransmissions"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Apply OS tuning with 8MB default"}]]}],["$","tr","2",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"Config values not applying"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"Wrong YAML keys"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Fix key names (see Troubleshooting)"}]]}],["$","tr","3",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"\"Message too long\" errors"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"MTU too large"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Reduce MTU to match path MTU"}]]}],["$","tr","4",{"className":"border-b border-border last:border-b-0 hover:bg-surface/50 transition-colors","children":[["$","td","0",{"className":"px-4 py-3 text-sm text-text","children":"Slow connection ramp-up"}],["$","td","1",{"className":"px-4 py-3 text-sm text-text","children":"nocongestion: 0 on variable BW"}],["$","td","2",{"className":"px-4 py-3 text-sm text-text","children":"Use default or mode presets"}]]}]]}]]}]}]}]]]}]]}]]}],["$","footer",null,{"className":"border-t border-border bg-surface/50 py-8 px-4","children":["$","div",null,{"className":"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4","children":[["$","div",null,{"className":"text-sm text-text-muted","children":[["$","span",null,{"className":"gradient-text font-semibold","children":"PAQET"}]," Documentation"]}],["$","div",null,{"className":"text-sm text-text-muted","children":"Optimized for performance, security, and reliability."}]]}]}]]}],null],null],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/paqet-docs/_next/static/css/3ded6dcb6aaafc3d.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","className":"scroll-smooth","children":["$","body",null,{"className":"font-sans antialiased","children":["$","$L8",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L9",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]}]}]],null],null],["$La",null]]]]
a:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"PAQET - Packet-Level Proxy Documentation"}],["$","meta","3",{"name":"description","content":"Optimization guide for PAQET, a packet-level proxy with KCP protocol"}],["$","link","4",{"rel":"icon","href":"/paqet-docs/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
1:null
